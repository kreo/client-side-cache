(function(e,t,n,r){"use strict";n.fn.tooltip=function(i,s){function l(e){n.isFunction(e)&&e.call()}function c(e){e.each(function(){var e=n(this),t=o.sel.attrSelector,r=e.attr(t),i=null;r||(r=e.data(t)),r&&(i=n.data(this,t,r.replace(o.replaceString,"")),e.removeAttr(t))})}function h(e){var r=n(t),i=r.width(),s=r.height(),f=0,l=0;return u+e.width+o.boxOffsetX>i?f=i-e.width:u+o.boxOffsetX<0?f=0:f=u+o.boxOffsetX,a+e.height+o.boxOffsetY>s?l=a-e.height-10:a+o.boxOffsetY<0?l=0:l=a+o.boxOffsetY,{left:f,top:l}}function p(e){var t,r={},i=o.sel.tooltipId,s;t=n("<div>",{id:i.substr(1),css:{position:"absolute",width:o.boxWidth,height:o.boxHeight,display:"none"},html:e}).appendTo("body"),r={width:t.outerWidth(!0),height:t.outerHeight(!0)},s=h(r);if(s.left===0&&s.right===0)return;t.css(s).fadeIn(o.fadeTime)}function d(){n(o.sel.tooltipId).fadeOut(o.fadeTime,function(){n(this).remove()}),e.clearTimeout(f)}function v(t){var r=o.sel,i=r.tooltipId,s=r.attrSelector,l={},v;t.each(function(){n(this).bind({"mouseenter.tooltip":function(t){v=n.data(this,s),v||c(this),n(i).css("opacity")!==0&&n(i).stop().remove(),u=t.pageX,a=t.pageY,f=e.setTimeout(function(){p(v)},o.delay)},"mouseleave.tooltip":function(){d()},"mousemove.tooltip":function(e){l={width:n(i).outerWidth(!0),height:n(i).outerHeight(!0)},u=e.pageX,a=e.pageY,n(i).css(h(l))}})}),n(e).bind({scrolling:function(){d()}})}function m(e,t){if(!t.length||r.client&&r.client.isMobile())return;var n=t.data("tooltip");n||(c(t),v(t),t.data("tooltip","initialized")),l(e.callback)}n.fn.tooltip.defaults={sel:{elem:".tooltip",tooltipId:"#tooltip",attrSelector:"title"},fadeTime:300,delay:500,boxOffsetX:-60,boxOffsetY:20,replaceString:"Lebenswelt Schule - "};var o=n.extend(!0,n.fn.tooltip.defaults,i,{callback:s}),u=0,a=0,f;return this.each(function(){m(o,n(this))})}})(window,document,window.jQuery,window.app||{}),function(e,t,n){"use strict";t.fn.fullscreen=function(r,i){function a(){return null===u&&(u=(!!o.requestFullscreen||!!o.mozRequestFullScreen||!!o.webkitRequestFullScreen)&&!n.client.isChrome()&&!n.client.isSeamonkey()),u}function f(){return!!e.fullScreen||!!e.mozFullScreen||!!e.webkitIsFullScreen}function l(){o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.webkitRequestFullScreen&&o.webkitRequestFullScreen()}function c(){e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()}function h(){}function p(n){var r=t(e);r.bind("fullscreenchange",h),r.bind("mozfullscreenchange",h),r.bind("webkitfullscreenchange",h),n.bind({"click.fullscreen":function(e){e.preventDefault(),f()?c():l()}})}function d(e,n){if(!n.length)return;if(a()){n.show();var r=n.data("fullscreen");r||(p(n),n.data("fullscreen","initialized"))}else n.hide();t.isFunction(e.cb)&&e.cb.call()}t.fn.fullscreen.defaults={sel:{elem:".btn-fullscreen"}};var s=t.extend(!0,{},t.fn.fullscreen.defaults,r,{cb:i}),o=e.documentElement,u=null;return this.each(function(){d(s,t(this))})}}(document,window.jQuery,window.app||{}),function(e,t){"use strict";typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define(t):e.PubSub=t()}(typeof window=="object"&&window||this,function(){"use strict";function r(e){return function(){throw e}}function i(e,t,n){try{e(t,n)}catch(i){setTimeout(r(i),0)}}function s(e,t,n){e(t,n)}function o(e,n,r,o){var u=t[n],a=o?s:i,f,l;if(!t.hasOwnProperty(n))return;for(f=0,l=u.length;f<l;f++)a(u[f].func,e,r)}function u(e,t,n){return function(){var i=String(e),s=i.lastIndexOf(".");o(e,e,t,n);while(s!==-1)i=i.substr(0,s),s=i.lastIndexOf("."),o(e,i,t)}}function a(e){var n=String(e),r=t.hasOwnProperty(n),i=n.lastIndexOf(".");while(!r&&i!==-1)n=n.substr(0,i),i=n.lastIndexOf("."),r=t.hasOwnProperty(n);return r}function f(e,t,n,r){var i=u(e,t,r),s=a(e);return s?(n===!0?i():setTimeout(i,0),!0):!1}var e={name:"PubSubJS",version:"1.3.6"},t={},n=-1;return e.publish=function(t,n){return f(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return f(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){t.hasOwnProperty(e)||(t[e]=[]);var i=String(++n);return t[e].push({token:i,func:r}),i},e.unsubscribe=function(e){var n=typeof e=="string",r=n?"token":"func",i=n?e:!0,s=!1,o,u;for(o in t)if(t.hasOwnProperty(o))for(u=t[o].length-1;u>=0;u--)if(t[o][u][r]===e){t[o].splice(u,1),s=i;if(n)return s}return s},e}),function(e,t,n){"use strict";var r={};t.models.helpers=r}(window,window.app||{},window.jQuery),function(e,t,n){"use strict";function a(e,t){var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]&&t[n].id===e)return t[n];return null}function f(e,t){this.records=[],this.init(e,t)}var r=e.helpers,i=r.utils,s=i.callback,o=i.getJson(),u={id:null,content:null};f.prototype=f.fn={create:function(e,n,r){var i=this,o=null;return r=s(r),e&&n&&!a(e,i.records)&&(o={},o.id=e,o.content={},t.extend(!0,o.content,n),i.records.push(o)),r(o),o},read:function(e,t){var n=this,r=null;return t=s(t),e&&(r=a(e,n.records)),t(r),r},update:function(e,n,r){var i=this,o=null;return r=s(r),e&&n&&(o=a(e,i.records),o&&t.extend(!0,o.content,n)),r(o),o},remove:function(e,t){var n=this,r=null,i,o=n.records.length;t=s(t);if(e){r=a(e,n.records);if(r)for(i=0;i<o;i+=1)if(n.records[i]&&n.records[i].id===e)return n.records.splice(i,1),t(r),r}return t(null),null},destroy:function(e){return this.records=[],e=s(e),e(!0),!0},init:function(e,t){var n=this,r;t=s(t);if(e)for(r=0;r<e.length;r+=1)e[r]&&e[r].id&&n.create(e[r].id,e[r].content||{});return t(n),n}},e.models.model=f}(window.app||{},window.jQuery),function(e,t){"use strict";var n=new e.models.model([{id:1,content:{url:"/index.html",view:"index",state:"index",params:[],index:!0}},{id:2,content:{url:"/page1.html",view:"page1",state:"page1",params:[]}},{id:3,content:{url:"/page2.html",view:"page2",state:"page2",params:[]}}]);e.models.routes=n}(window.app||{}),function(e,t,n){"use strict";var r={};t.views.helpers=r}(window,window.app||{},window.jQuery),function(e,t,n){"use strict";var r={index:{sel:"#body",name:"index",ns:"index",elems:{},events:{},init:function(){},reset:function(){}}};t.views.scripts=r}(window,window.app||{},window.jQuery),function(e,t,n,r){"use strict";var i={events:{bind:function(){this.o||(this.o=n({})),this.o.bind.apply(this.o,arguments)},trigger:function(){this.o||(this.o=n({})),this.o.trigger.apply(this.o,arguments)}},stateMachine:function(){var e=function(){};return e.fn=e.prototype,n.extend(e.fn,i.events),e.fn.add=function(e){if(!e)return;this.bind("change",function(t,n){t.preventDefault(),e===n?e.activate():e.deactivate()}),e.setActive=n.proxy(function(){this.trigger("change",e)},this)},e.fn}};t.controllers.helpers=i}(window,window.app||{},window.jQuery),function(e,t,n){"use strict";function o(t,n){this.location=e.location,this.routes=null,this.init(t,n)}var r=t.helpers,i=r.utils,s={url:null,view:null,state:null,params:{}};o.prototype=o.fn={setRoutes:function(e){e&&(this.routes=e)},setRoute:function(){},getRoute:function(e){var t=this,r=e||t.location.pathname,i=null,s;return!t.routes||!t.routes.records?i:(s=t.routes.records,r===""||r==="/"?n.each(s,function(e,t){!t.content.index||(i=s[e])}):n.each(s,function(e,t){!!t.content.url&&t.content.url===r&&(i=s[e])}),i)},navigate:function(e){this.location.hash=e},init:function(e,t){var n=this;return t=i.callback(t),e&&n.setRoutes(e),t(n),n}},t.controllers.router=o}(window,window.app||{},window.jQuery),function(e,t,n){"use strict";var r,i,s=t.controllers;r={index:{activate:function(){var e=t.views.scripts.index;e&&!e.initialized&&s.controller.initView(e)},deactivate:function(){var e=t.views.scripts.index;e&&!!e.initialized&&s.controller.destroyView(e)}},page1:{activate:function(){var e=t.views.scripts.page1;e&&!e.initialized&&s.controller.initView(e)},deactivate:function(){var e=t.views.scripts.page1;e&&!!e.initialized&&s.controller.destroyView(e)}},page2:{activate:function(){var e=t.views.scripts.page2;e&&!e.initialized&&s.controller.initView(e)},deactivate:function(){var e=t.views.scripts.page2;e&&!!e.initialized&&s.controller.destroyView(e)}},defaults:{activate:function(){var e=t.views.scripts.defaults;e&&!e.initialized&&s.controller.initView(e)},deactivate:function(){var e=t.views.scripts.defaults;e&&!!e.initialized&&s.controller.destroyView(e)}}},!!t.controllers.helpers&&!!t.controllers.helpers.stateMachine&&(i=new t.controllers.helpers.stateMachine,i.add(r.index),i.add(r.page1),i.add(r.page2),i.add(r.defaults)),t.controllers.states=r}(window,window.app||{},window.jQuery),function(e,t){"use strict";function o(e){return t.proxy(e,this)}function u(e,n){return t(e,n.views[n.activeView].el)}function a(e){var t=e.activeView,n=e.views.scripts[t],r,i;for(i in n.elements)n.elements.hasOwnProperty(i)&&(r=n.elements[i],n.elements[r]=u(i,e))}function f(e){var n=e.activeView,r=e.views.scripts[n],s="",u,a,f,l,c,h,p;r.ns&&(s="."+r.ns);for(u in r.events)r.events.hasOwnProperty(u)&&(a=r.events[u],f=o(r[a]),l=u.match(i),c=l[1],p=l[2],h=c+s,p===""?t(r.sel).on(h,f):t(r.sel).delegate(p,h,f))}function l(e){var n=e.activeView,r=e.views.script[n],s="",u,a,f,l,c,h,p;r.ns&&(s="."+r.ns);for(u in r.events)r.events.hasOwnProperty(u)&&(a=r.events[u],f=o(r[a]),l=u.match(i),c=l[1],p=l[2],h=c+s,p===""?t(r.sel).off(h,f):t(r.sel).undelegate(p,h,f))}var n=e.helpers,r=n.utils,i=/^(\w+)\s*(.*)$/,s={};s={views:null,activeView:null,router:null,routes:null,activeRoute:null,initView:function(e,t){var n=this,i=e.name||null,s;t=r.callback(t),i&&!n.views.scripts[i].initialized?(n.views[i]=s=e,n.activeView=i,s.elements&&a(n),s.events&&f(n),s.init&&(s.init.apply(),s.initialized=!0),t(s)):i&&n.views.scripts[i]?t(n.views.scripts[i]):t()},destroyView:function(e,t){var n=this,i=e.name||null,s;t=r.callback(t),i&&!!n.views.scripts[i].initialized?(s=n.views[i],n.activeView=i,s.elements&&a(n),s.events&&l(n),n.activeView=null,delete s.initialized,t(s)):i&&!n.views.scripts[i].initialized?t(n.views.scripts[i]):t()},getView:function(e,t){var n=this,i=n.views.scripts[e]||null;return t=r.callback(t),t(i),i},init:function(t,n){var i=this,s=e.controllers.states||null,o=[],u=null,a=function(e){s?(e&&s[e]&&!!s[e].setActive?s[e].setActive():s.defaults&&!!s.defaults.setActive&&s.defaults.setActive(),t(i)):t(i)},f=function(e){var t=!1;e?(i.activeRoute=e.getRoute(),i.activeRoute&&(t=i.activeRoute.content.state||"defaults"),a(t)):a()};t=r.callback(t),!e.views||(i.views=e.views),null!==i.router||!e.controllers.router?f():(e.models.routes&&(o=e.models.routes),u=new e.controllers.router(o,function(e){i.router=e,f(e)}))}},e.controllers.controller=s}(window.app||{},window.jQuery),function(e,t,n,r){"use strict";function l(){t.clearTimeout(f),f=t.setTimeout(function(){parseInt(t.pageYOffset,10)===0&&t.scrollTo(0,1)},1e3)}var i=e(t),s=e("html"),o=r.helpers,u=o.client,a=o.utils.bind,f;e(n).ready(function(){s.removeClass("no-js").addClass("js"),u.isMobile()?(s.addClass("mobile"),l(),a(n,"DOMContentLoaded",l),a(t,"orientationchange",l)):s.addClass("desktop"),new FastClick(n.body),r.controllers.controller.init(function(){alert("controller loaded")})})}(window.jQuery,window,document,window.app);