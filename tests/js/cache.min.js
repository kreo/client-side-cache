(function(c,s){function g(){c[e]||(c[e]={});return c[e]}var e="app",k;k=g();k.namespace=function(k,g){if(k){k=String(k);var m=k.split("."),q=m.length,f=c[e],a;f||(c[e]={});if(!m)return!1;for(a=0;a<q;a+=1)f[m[a]]||(f[m[a]]={},a===q-1&&g&&(f[m[a]]=g)),f=f[m[a]];return f}return!1};c[e]=k;c.getNamespace=c.getNs=g})(window);
(function(c,s){function g(){if(!(this instanceof g))return new g;this.methods=[];this.response=null;this.flushed=!1}g.prototype=g.fn={add:function(c){this.flushed?c(this.response):this.methods.push(c)},flush:function(c){if(!this.flushed)for(this.response=c,this.flushed=!0;this.methods[0];)this.methods.shift()(c)}};c.namespace("helpers.queue",g)})(window.getNs());
(function(c,s,g,e){var k=function(){var g=null,n=c.console!==e,m=n?c.console:null,q=n&&m.time!==e&&m.timeEnd!==e,f=[];return{isString:function(a){return"string"===typeof a||a instanceof String},isFunction:function(a){return"function"===typeof a||a instanceof Function},isArray:function(a){var b=Array.isArray,d=Object.prototype.toString;k.isArray=b&&"function"===typeof b?function(a){return b(a)}:d&&"function"===d?function(a){return"[object Array]"===d.call(a)}:function(a){return!!a.sort&&"function"===
typeof a.sort};return k.isArray(a)},inArray:function(a,b,d){k.inArray=Array.prototype.indexOf?function(a,b,d){return f.indexOf.call(b,a,d)}:function(a,b,d){var c=b.length,h=0;if(d)return b[d]&&b[d]===a?d:-1;for(h=0;h<c;h+=1)if(b[h]===a)return h;return-1};return k.inArray(a,b,d)},callback:function(a){k.isFunction(a)||(a=function(){return e});return a},on:function(a,b,d){k.on="function"===typeof c.addEventListener?function(a,b,d){a.addEventListener(b,d,!1)}:"function"===typeof s.attachEvent?function(a,
b,d){a.attachEvent("on"+b,d)}:function(a,b,d){a["on"+b]=d};k.on(a,b,d)},off:function(a,b,d){k.off="function"===typeof c.removeEventListener?function(a,b,d){a.removeEventListener(b,d,!1)}:"function"===typeof s.detachEvent?function(a,b,d){a.detachEvent("on"+b,d)}:function(a,b){a["on"+b]=null};k.off(a,b,d)},getXhr:function(){for(var a=null,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],
d=b.length,v=0,v=0;v<d;v+=1){try{a=b[v]()}catch(p){continue}break}return a},xhr:function(a,b,d,v){var p=k.getXhr(),c,l="GET";b=k.callback(b);if(p)if(a){v!==e?l="POST":v=null;d===e&&(d=!0);c=function(){if(4===p.readyState&&(200<=p.status&&400>p.status||0===p.status))try{var a=p.responseText;a?b(a):b(!1)}catch(d){b(!1)}else 4===p.readyState&&b(!1)};p.open(l,a,d);try{p.onreadystatechange!==e?p.onreadystatechange=c:p.onload!==e&&(p.onload=c)}catch(h){p.onload=null,p.onload=c}p.send(v)}else b(!1);else b(!1)},
getJson:function(){null===g&&(c.JSON&&c.JSON.stringify)&&(g=c.JSON);return g},jsonToString:function(a){var b=!1;null===g&&(g=k.getJson());g&&a!==e&&(b=g.stringify(a));return b},jsonToObject:function(a){var b=!1;null===g&&(g=k.getJson());g&&a!==e&&(b=g.parse(a));return b},logTimerStart:function(a){q&&c.console.time(a)},logTimerEnd:function(a){q&&c.console.timeEnd(a)},url:function(a){if(k.isString(a)){var b=s.createElement("a"),d;b.href=a;d=b.pathname.match(/\/([^\/?#]+)$/i);return{source:a,protocol:b.protocol,
host:b.hostname,port:b.port,query:b.search,file:d?d[1]:"/",hash:b.hash,path:b.pathname.replace(/^([^\/])/,"/$1"),extension:function(a){a=a.split(".");return a.length?a[a.length-1]:!1}(a),folder:function(){var b=a.lastIndexOf("/");return a.substr(0,b+1)}()}}},trim:function(a){if(!k.isString(a))return a;k.isFunction(String.prototype.trim)||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});return a.trim()}}}();g.namespace("helpers.utils",k)})(window,document,window.getNs());
(function(c,s,g,e){var k=function(){function k(){parseInt(c.orientation,10)}function n(){p||(l(c,"orientationchange",k),p=!0)}function m(){d===e&&(l(c,"online",m),l(c,"offline",m));d=s.onLine!==e?!!s.onLine:!0}var q,f,a,b,d,v,p,t=(s.userAgent||s.vendor||c.opera).toLowerCase(),l=g.helpers.utils.on;return{isiOS:function(){q===e&&(q=null!==t.match(/(iphone|ipod|ipad)/))&&n();return q},isMsie:function(){a===e&&(a=null!==t.match(/(msie)/));return a},isOpera:function(){f===e&&(f=null!==t.match(/(opera)/));
return f},isMobile:function(){b===e&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,
4))?(b=!0,n()):b=!1);return b},isOnline:function(){d===e&&m();return d},hasCanvas:function(){if(v===e){var a=document.createElement("canvas");v=!(!a.getContext||!a.getContext("2d"))}return v}}}();g.namespace("helpers.client",k)})(window,window.navigator,window.getNs());
(function(c,s,g){function e(e,k){k&&(k.dom?e=k.dom:k.id&&(e=c.getElementById(k.id)));return e}var k=function(){var r=s.helpers,n=r.utils,m=r.client,q=[],f=[],a=[],b=[],d=c.getElementsByTagName("head")[0];return{nuke:function(){q=[];f=[];a=[];b=[]},createDomNode:function(a,b){var d=c.createElement(a),l;if(b)for(l in b)b.hasOwnProperty(l)&&d.setAttribute(l,b[l]);return d},hasClass:function(a,b){return RegExp(" "+b+" ").test(" "+a.className+" ")},getAttribute:function(a,b){return a.getAttribute(b)},
setAttribute:function(a,b,d){a.setAttribute(b,d)},appendCss:function(a,b,f,l,h){if(-1===n.inArray(a,q)||h){var g;h=e(null,l);if(null!==b){h||(h=k.createDomNode("style",{type:"text/css"}),h.className="lazyloaded");h.onerror=function(){f(!1)};l||d.appendChild(h);try{g=c.createTextNode(b),h.appendChild(g)}catch(u){h.styleSheet.cssText=b}finally{f()}}else null!==a&&(h||(h=k.createDomNode("link",{rel:"stylesheet",type:"text/css"}),h.className="lazyloaded"),h.onerror=function(){f(!1)},l||d.appendChild(h),
m.isMsie()||m.isOpera()?h.onload=f:f(),h.href=a);q.push(a)}else f()},appendJs:function(a,b,t,l,h){if(-1===n.inArray(a,f)||h){h=k.createDomNode("script");var q=c.getElementsByTagName("script")[0],g=!1;(h=e(h,l))?(h.type="text/javascript",h.className="lazyloaded",h.async=!0,h.onreadystatechange=h.onload=function(){g||this.readyState&&"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=this.onload=null,g=!0,f.push(a),t())},h.onerror=function(){this.onload=this.onreadystatechange=
this.onerror=null;t()},l||(q?q.parentNode.insertBefore(h,q):d.appendChild(h)),b&&!g?(h.textContent?h.textContent=b:h.nodeValue?h.nodeValue=b:h.text=b,g=!0):null!==a&&(h.src=a),g&&(f.push(a),t())):t()}else t()},appendImg:function(b,d,c,f){var h=null;(h=e(h,f))||(h=new Image);h.onerror=function(){h.onload=h.onerror=null;c()};h.onload=function(){h.onload=h.onerror=null;c()};d?h.src=d:b&&(h.src=b);if(h.complete&&h.naturalWidth!==g)h.onload();a.push(b)},appendHtml:function(a,d,f,l){var h=e(null,l);if(h){if(d)try{h.innerHTML=
d,l.id&&m.isMsie()&&c.styleSheets[0].addRule("#"+l.id+":after",'content: " ";')}catch(q){h.innerText=d}f();b.push(a)}else f()}}}();s.namespace("helpers.dom",k)})(document,window.getNs());
(function(c,s){function g(a,b,d){var c=function(a){d(!1)};if("."===b[0]||""===b[0])b=b.slice(1);b[0]?a.getDirectory(b[0],{create:!0},function(a){b.length?g(a,b.slice(1),d):d(!0)},c):d(!0)}function e(a,b,d){b=b.split("/");var c=b.length,f="",e=0;d=q(d);if(c){for(e=0;e<c-1;e+=1)f=f+b[e]+"/";g(a.root,f.split("/"),d)}else d(!0)}function k(a){if(!(this instanceof k))return new k(a);this.adapter=null;this.type=r;this.size=52428800;this.init(a)}var r="fileSystem",n=c.getNs&&c.getNs()||c,m=n.helpers.utils,
q=m.callback,f=null;k.prototype=k.fn={isSupported:function(){null===f&&(f=(!!c.requestFileSystem||!!c.webkitRequestFileSystem||!!c.moz_requestFileSystem)&&(!!c.Blob||!!c.BlobBuilder)&&c.FileReader);return f},open:function(a){var b=this,d=b.adapter,f=function(b){a(!1)};a=q(a);null===d?(c.requestFileSystem=c.requestFileSystem||c.webkitRequestFileSystem||c.moz_requestFileSystem,c.requestFileSystem(c.TEMPORARY,b.size,function(c){d=b.adapter=c;try{b.create("test-item",m.jsonToString({test:"test-content"}),
function(c){c?b.remove("test-item",function(){a(d)}):a(!1)})}catch(f){a(!1)}},f)):a(d)},create:function(a,b,d){d=q(d);a||d(!1);var c=this.adapter,f=function(a){d(!1,a)};e(c,a,function(){c.root.getFile(a,{create:!0},function(a){a.createWriter(function(a){var c;a.onwriteend=function(){d(!0)};a.onerror=f;try{Blob?(c=new Blob([b],{type:"text/plain"}),a.write(c)):BlobBuilder&&(c=new BlobBuilder,c.append(b),a.write(c.getBlob("application/json")))}catch(e){f(e)}},f)},f)})},read:function(a,b){b=q(b);a||b(!1);
var d=this.adapter,c=function(a){b(!1,a)};e(d,a,function(){d.root.getFile(a,{create:!1},function(a){a.file(function(a){var d=new FileReader;d.onloadend=function(){b(this.result)};d.onerror=c;d.onabort=c;d.readAsText(a)},c)},c)})},update:function(a,b,d){this.create(a,b,d)},remove:function(a,b){b=q(b);a||b(!1);var d=this.adapter,c=function(a){b(!1,a)};e(d,a,function(){d.root.getFile(a,{create:!1},function(a){a.remove(function(){b(!0)},c)},c)})},init:function(a){return this.isSupported()?(a&&a.size&&
(this.size=a.size),this):!1}};m.isFunction(n.namespace)?n.namespace("cache.storage.adapter."+r,k):n[r]=k})(window);
(function(c,s){function g(c){if(!(this instanceof g))return new g(c);this.adapter=null;this.type=e;this.dbName="cache";this.dbVersion="1.0";this.dbTable="offline";this.dbDescription="Local offline cache";this.dbKey="key";this.init(c)}var e="indexedDatabase",k=c.getNs&&c.getNs()||c,r=k.helpers.utils,n=r.callback,m=null;g.prototype=g.fn={isSupported:function(){null===m&&(m=!!c.indexedDB||!!c.webkitIndexedDB||!!c.mozIndexedDB||!!c.OIndexedDB||!!c.msIndexedDB);return m},create:function(c,f,a){a=n(a);
c||a(!1);var b=this.dbTable,d=this.adapter.transaction([b],"readwrite");c=d.objectStore(b).put({key:c,content:f});d.onerror=function(b){a(!1,b)};c.onerror=function(b){a(!1,b)};c.onsuccess=function(){a(!0)}},read:function(c,f){f=n(f);c||f(!1);var a=this.dbTable,b=this.adapter.transaction([a],"readonly"),a=b.objectStore(a).get(c);b&&a?(b.onerror=function(a){f(!1,a)},a.onerror=function(a){f(!1,a)},a.onsuccess=function(a){a.target.result&&a.target.result.content?f(a.target.result.content):f(!1)}):f(!1)},
update:function(c,f,a){this.create(c,f,a)},remove:function(c,f){f=n(f);c||f(!1);var a=this.dbTable,b=this.adapter.transaction([a],"readwrite"),a=b.objectStore(a).put({key:c,content:""});b.onerror=function(a){f(!1,a)};a.onerror=function(a){f(!1,a)};a.onsuccess=function(){f(!0)}},open:function(e,f){f||(f=!1);e=n(e);var a=this,b=null,d=null,g=null,p=a.dbName,k=a.dbTable,l=function(b){b||e(!1);a.create("test-item",'{test: "test-content"}',function(d){d?a.remove("test-item",function(){e(b)}):e(!1)})},
h,m,u,w,A;if(null===a.adapter)if(b=c.indexedDB||c.webkitIndexedDB||c.mozIndexedDB||c.OIndexedDB||c.msIndexedDB){c.webkitIndexedDB!==s&&(c.IDBTransaction=c.webkitIDBTransaction,c.IDBKeyRange=c.webkitIDBKeyRange);h=function(b){b.createIndex(a.dbKey,a.dbKey,{unique:!0});b.createIndex("content","content",{unique:!1})};m=function(b){var c=d.result,f,p;a.adapter=c;a.dbVersion===c.version||!c.setVersion&&"function"!==typeof c.setVersion?(a.adapter=c,l(c)):(g=b.currentTarget.result.setVersion(a.dbVersion),
g.onfailure=function(a){e(!1)},g.onsuccess=function(b){f=d.result;p=f.createObjectStore(k,{keyPath:a.dbKey});h(p)})};u=function(b){b=d.result.createObjectStore(k,{keyPath:a.dbKey});h(b)};w=function(b){f||a.open(e,!0);e(!1)};A=function(a){e(!1)};if(f)try{d=b.open(p,a.dbVersion)}catch(B){d=b.open(p)}else d=b.open(p);d.onsuccess=m;d.onupgradeneeded=u;d.onerror=w;d.onblocked=A}else e(!1);else l(a.adapter)},init:function(c){return this.isSupported()?(c&&(c.name&&(this.dbName=String(c.name)),c.version&&
(this.dbVersion=parseInt(c.version,10)),c.table&&(this.dbTable=c.table),c.description&&(this.dbDescription=String(c.description)),c.key&&(this.dbKey=c.key)),this):!1}};r.isFunction(k.namespace)?k.namespace("cache.storage.adapter."+e,g):k[e]=g})(window);
(function(c,s){function g(c,a,b,d,e,p){!p&&c?c.transaction(function(c){c.executeSql(a,b,d,e)}):p?p.executeSql(a,b,d,e):e(null,{code:0,message:"The storage adapter isn't available"})}function e(c){if(!(this instanceof e))return new e(c);this.adapter=null;this.type=k;this.dbName="cache";this.dbVersion="1.0";this.dbDescription="resource cache";this.dbTable="websql";this.dbSize=4194304;this.init(c)}var k="webSqlDatabase",r=c.getNs&&c.getNs()||c,n=r.helpers.utils,m=n.callback,q=null;e.prototype=e.fn={isSupported:function(){null===
q&&(q=!!c.openDatabase);return q},create:function(c,a,b){b=m(b);c||b(!1);g(this.adapter,"INSERT INTO "+this.dbTable+" (key, content) VALUES (?,?);",[c,a],function(){b(!0)},function(a,c){b(!1,c,{transaction:a})})},read:function(c,a){a=m(a);c||a(!1);g(this.adapter,"SELECT content FROM "+this.dbTable+" WHERE key=?;",[c],function(b,c){var f=!1;c&&(c.rows&&1===c.rows.length)&&(f=c.rows.item(0).content);a(f,null,{transaction:b})},function(b,c){a(!1,c,{transaction:b})})},update:function(c,a,b){b=m(b);c||
b(!1);g(this.adapter,"UPDATE "+this.dbTable+" SET content = ?  WHERE key=?;",[a,c],function(){b(!0)},function(a,c){b(!1,c,{transaction:a})})},remove:function(c,a){a=m(a);c||a(!1);g(this.adapter,"DELETE FROM "+this.dbTable+" WHERE key = ?;",[c],function(){a(!0)},function(b,c){a(!1,c,{transaction:b})})},open:function(f){f=m(f);var a=this,b=a.adapter,d=function(b){b||f(!1);a.create("test-item",'{test: "test-content"}',function(c){c?a.remove("test-item",function(){f(b)}):f(!1)})},e=function(b,c){g(b,
"CREATE TABLE IF NOT EXISTS "+a.dbTable+"(id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, key TEXT NOT NULL UNIQUE, content TEXT NOT NULL);",[],function(){d(a.adapter)},function(a){d(!1)},c)},p=function(a){e(null,a)},k=function(a){f(!1)};try{if(null===b&&a.isSupported())if(a.adapter=b=c.openDatabase(a.dbName,"",a.dbDescription,a.dbSize),String(b.version)!==String(a.dbVersion)&&b.changeVersion&&"function"===typeof b.changeVersion)try{b.changeVersion(b.version,a.dbVersion,p,k)}catch(l){f(!1)}else b=
c.openDatabase(a.dbName,a.dbVersion,a.dbDescription,a.dbSize),e(b);else a.isSupported()&&d(b)}catch(h){f(!1)}},init:function(c){return this.isSupported()?(c&&(c.description&&(this.dbDescription=c.description),c.name&&(this.dbName=c.name),c.size&&(this.dbSize=c.size),c.table&&(this.dbTable=c.table),c.version&&(this.dbVersion=String(c.version))),this):!1}};n.isFunction(r.namespace)?r.namespace("cache.storage.adapter."+k,e):r[k]=e})(window);
(function(c,s){function g(a){a=m(a);switch(a){case "local":a="localStorage";break;case "session":a="sessionStorage";break;default:a="localStorage"}return a}function e(a){if(!(this instanceof e))return new e(a);this.adapter=null;this.type=k;this.lifetime="local";this.asynch=!0;this.init(a)}var k="webStorage",r=c.getNs&&c.getNs()||c,n=r.helpers.utils,m=n.trim,q=n.callback,f=null;e.prototype=e.fn={isSupported:function(){var a=g(this.lifetime);if(null===f)try{f=!!c[a]&&!!c[a].getItem}catch(b){f=!1}return f},
create:function(a,b,c){c=q(c);if(!a)if(e.asynch)c(!1);else return!1;var e=this,f=!0;try{e.adapter.setItem(a,b)}catch(g){f=!f}if(e.asynch)c(f);else return f},read:function(a,b){b=q(b);if(!a)if(c.asynch)b(!1);else return!1;var c=this,e,f=!0;try{f=(e=c.adapter.getItem(a))?e:!1}catch(g){f=!f}if(c.asynch)b(f);else return f},update:function(a,b,c){if(this.asynch)this.create(a,b,c);else return this.create(a,b,c)},remove:function(a,b){b=q(b);if(!a)if(c.asynch)b(!1);else return!1;var c=this,e=!0;try{c.adapter.removeItem(a)}catch(f){e=
!e}if(c.asynch)b(e);else return e},open:function(a){var b=this,d=b.adapter,e=g(b.lifetime),f,k;a=q(a);if(null===d)try{if(d=b.adapter=c[e],b.asynch)b.create("test-item",'{test: "test-content"}',function(c){c?b.remove("test-item",function(){a(d)}):a(!1)});else{if(f=b.create("test-item",'{test: "test-content"}'))if(k=b.remove("test-item"))return d;return!1}}catch(l){if(b.asynch)a(!1);else return!1}else if(b.isSupported())if(b.asynch)a(d);else return d},init:function(a){return this.isSupported()?(a&&
(a.lifetime&&(this.lifetime=m(String(a.lifetime))),a.asynch!==s&&(this.asynch=!!a.asynch)),this):!1}};n.isFunction(r.namespace)?r.namespace("cache.storage.adapter."+k,e):r[k]=e})(window);
(function(c,s,g){function e(a,b){b.isLoaded||(b.isLoaded=!0,b.progressCallback(100),c.setTimeout(function(){a()},b.delay))}function k(a){if(!(this instanceof k))return new k(a);this.adapter=null;this.type=r;this.isLoaded=!1;this.delay=0;this.opened=!0;this.init(a)}var r="applicationCache",n=c.getNs&&c.getNs()||c,m=n.helpers,q=m.utils,f=m.dom,a=q.on,b=q.callback,d=null,v=s.getElementsByTagName("html")[0];k.prototype=k.fn={isSupported:function(){null===d&&(d=!!c.applicationCache&&!!f.getAttribute(v,
"manifest"));return d},open:function(d,f){var l=this,h=l.adapter,k=0,m,w;l.opened=!0;d=b(d);f&&f.progress&&(m=f.progress);m=l.progressCallback=b(m);if(l.isSupported()&&null!==h){w=function(){try{h.swapCache()}catch(a){}confirm("A new version of this website is available. Do you want to an update?")?c.location.reload(!0):e(d,l);return!1};a(h,"noupdate",function(){e(d,l);return!1});a(h,"downloading",function(){k=0;return!1});a(h,"progress",function(a){var b=0;l.delay=500;k+=1;b=a&&a.lengthComputable!==
g?Math.round(100*a.loaded/a.total):Math.round(100*k/20);m(b);return!1});a(h,"cached",function(){e(d,l);return!1});a(h,"updateready",function(){w()});a(h,"obsolete",function(){c.location.reload(!0);return!1});a(h,"error",function(){e(d,l);return!1});switch(h.status){case h.UNCACHED:e(d,l);break;case h.IDLE:e(d,l);break;case h.UPDATEREADY:w();break;case h.OBSOLETE:e(d,l)}a(c,"online",function(){try{h.update()}catch(a){}});c.setTimeout(function(){l.isLoaded||e(d,l)},12E3)}else e(d,l)},init:function(a){a=
this.adapter;this.isSupported()&&null===a&&(this.adapter=c.applicationCache);return this}};n.namespace("cache.storage.adapter."+r,k)})(window,document);
(function(c,s,g,e){function k(a,b,d){d.timeout=c.setTimeout(function(){b(!1)},4E3);C(a,function(a){c.clearTimeout(d.timeout);delete d.timeout;a?b(a):b(!1)})}function r(a){var b=null;try{b=t.jsonToObject(a)}catch(c){}return b}function n(a,b,c){if(A){var d=s.createElement("canvas"),f,h=new Image,l=null,k=0,g=0;c||(c="jpeg");h.onerror=function(){h.onload=h.onerror=null;b()};h.onload=function(){h.onload=h.onerror=null;k=d.height=h.height;g=d.width=h.width;f=d.getContext("2d");f.fillStyle="rgba(50, 50, 50, 0)";
f.fillRect(0,0,g,k);f.drawImage(h,0,0);l=d.toDataURL("image/"+c);b(l)};h.src=a;if(h.complete&&h.naturalWidth!==e)h.onload()}else b(!1)}function m(a){var b=a.data,c=a.url;"css"===a.type&&(c=t.url(c),c=c.folder,b=b.replace(/url\(\../g,"url("+c+".."),b=b.replace(/url\(\'../g,"url('"+c+".."),b=b.replace(/url\(\"../g,'url("'+c+".."),a.data=b);return a}function q(a,b){return{ajax:a.ajax,data:a.data,expires:(new Date).getTime()+(a.lifetime||b.lifetime),group:a.group!==e?a.group:b.group,lastmod:a.lastmod||
b.lastmod,lifetime:a.lifetime!==e?a.lifetime:b.lifetime,type:a.type||b.type,version:a.version||b.version}}function f(a){return y&&y[a]?!!y[a]:!1}function a(b,c){var d=null,e,f;b&&b.length?(e=b[0].type,f=b.slice(1),w[e]?d=new w[e](z):a(f,c),d&&d.isSupported()?d.open(function(h){h?(x=e,y=b[0],c(d)):a(f,c)}):a(f,c)):x||c(!1)}function b(c,d,e){var f=null,h=0,l;if(e)try{w[e]?(f=new w[e](z))&&f.isSupported()?f.open(function(a){if(a){x=e;l=d.length;for(h=0;h<l;h+=1)d[h].type===e&&(y=d[h]);y?c(f):b(c,d)}else b(c,
d)}):b(c,d):b(c,d)}catch(k){b(c,d)}else a(d,c)}function d(a,b){if(!(this instanceof d))return new d(a,b);this.isEnabled=!0;this.appCacheAdapter=this.adapter=null;this.adapters={types:B,defaults:z};this.resources={defaults:D};this.init(a,b)}var v=g.helpers,p=v.client,t=v.utils,l=t.callback,h=t.getJson(),C=t.xhr,u=t.trim,w=g.cache.storage.adapter,A=p.hasCanvas(),B=[{type:"fileSystem",css:!0,js:!0,html:!0,img:!0},{type:"indexedDatabase",css:!0,js:!0,html:!0,img:!0},{type:"webSqlDatabase",css:!0,js:!0,
html:!0,img:!0},{type:"webStorage",css:!0,js:!0,html:!0,img:!0}],z={name:"localcache",table:"cache",description:"local resource cache",size:4194304,version:"1.0",key:"key",lifetime:"local",offline:!0},x=null,y=null,D={ajax:!0,lifetime:2E4,group:0,lastmod:(new Date).getTime(),type:"css",version:1};d.prototype=d.fn={create:function(a,b){b=l(b);if(a&&a.url){var c=this,d=a.url,e=a.type,h=function(h){if(h)if(a.data=h,a=m(a),null!==c.adapter&&f(e)){h=t.jsonToString(d);var l=q(a,c.resources.defaults),k=
t.jsonToString(l);a.expires=l.expires;a.version=l.version;try{c.adapter.create(h,k,function(c){c?b(a):b(!1)})}catch(g){b(a)}}else b(a);else b(a)};a.ajax?"img"===e?n(d,h):k(d,h,a):a.data?h(a.data):b(!1)}else b(!1)},read:function(a,b){b=l(b);if(a&&a.url){var c=this,d=a.url,e=a.type;if(null!==this.adapter&&f(e))try{c.adapter.read(t.jsonToString(d),function(f){f?(a=r(f))?(a.url=d,b(a,!0)):c.remove({url:d,type:e},function(){b(!1)}):b(!1)})}catch(h){k(d,function(c){a.data=c;b(a,!0)},a)}else b(a)}else b(!1)},
update:function(a,b){b=l(b);if(a&&a.url){var c=this,d=a.url,e=a.type,h=function(h){if(h)if(a.data=h,a=m(a),null!==c.adapter&&f(e)){h=t.jsonToString(d);var l=q(a,c.resources.defaults),k=t.jsonToString(l);a.expires=l.expires;a.version=l.version;try{c.adapter.update(h,k,function(c){c?b(a):b(!1)})}catch(g){b(a)}}else b(a);else c.read(a,function(c){c&&c.data?(a.data=c.data,b(a)):b(!1)})};a.ajax?"img"===e?n(d,h):k(d,h,a):a.data?h(a.data):b(!1)}else b(!1)},remove:function(a,b){b=l(b);if(a&&a.url){var c=
a.url,d=a.type;null!==this.adapter&&f(d)?this.adapter.remove(t.jsonToString(c),function(c){c?b(a):b(!1)}):b(a)}else b(!1)},init:function(a,c){var d=this,f=!1,k,g,p,m;a=l(a);c&&c.isEnabled!==e&&(d.isEnabled=!!c.isEnabled);if(d.isEnabled&&h){if(c){if(c.adapters){k=c.adapters;if(k.types&&t.isArray(k.types)){g=k.types;p=g.length;for(m=0;m<p;m+=1)g[m].css===e&&(g[m].css=!0),g[m].js===e&&(g[m].js=!0),g[m].img===e&&(g[m].img=!0),g[m].html===e&&(g[m].html=!0);d.adapters.types=g}k.defaults&&(g=k.defaults,
p=d.adapters.defaults,g.name&&(p.name=u(String(g.name))),g.table&&(p.table=u(String(g.table))),g.description&&(p.description=u(String(g.description))),g.size&&(p.size=parseInt(g.size,10)),g.version&&(p.version=u(String(g.version))),g.key&&(p.key=u(String(g.key))),g.lifetime&&(p.lifetime=u(String(g.lifetime))),g.offline!==e&&(p.offline=!!g.offline));k.preferredType&&(f=u(String(k.preferredType)))}c.resources&&(k=c.resources,k.defaults&&(k=k.defaults,g=d.resources.defaults,k.ajax!==e&&(g.ajax=!!k.ajax),
k.lifetime!==e&&(g.lifetime=parseInt(k.lifetime,10)),k.group!==e&&(g.group=parseInt(k.group,10)),k.lastmod!==e&&(g.lastmod=parseInt(k.lastmod,10)),k.type&&(g.type=u(String(k.type))),k.group!==e&&(g.version=parseFloat(k.version)),k.loaded&&(g.loaded=l(k.loaded))))}b(function(b){d.adapter=b;a(d)},d.adapters.types,f);d.adapters.defaults.offline&&(w.applicationCache&&!d.appCacheAdapter)&&(d.appCacheAdapter=new w.applicationCache(z))}else a(d)}};g.namespace("cache.storage.controller",d)})(window,document,
window.getNs());
(function(c,s){function g(a){var c=f(a.type);if("js"!==c||"css"!==c||"html"!==c||"img"!==c||"custom"!==c){switch(n.url(a.url).extension){case "js":a="js";break;case "css":a="css";break;case "html":a="html";break;case "jpg":case "jpeg":case "png":a="img";break;default:a="custom"}c=a}return c}function e(a,c){if(!(this instanceof e))return new e(a,c);this.storage=null;this.init(a,c)}var k=c.helpers,r=k.dom,n=k.utils,m=k.client,q=n.isArray,f=n.trim,a=n.callback;e.prototype=e.fn={load:function(b,c){var e=
this,k=(new Date).getTime(),t=function(){var a=0,b=0,c=null;return{init:function(d,e){c=e;a=d;b=0},loaded:function(){b+=1;b===a&&c()}}}(),l=function(a,b,c){var d=a.url,e=function(){a.loaded(a);t.loaded()},f=a.node||null;c=!!c;switch(a.type){case "js":r.appendJs(d,b,e,f,c);break;case "css":r.appendCss(d,b,e,f,c);break;case "img":r.appendImg(d,b,e,f,c);break;case "html":r.appendHtml(d,b,e,f,c);break;default:e()}},h=function(b){var c=b.data||null,d=function(a,b){a&&a.data?l(a,a.data,b):l(a,null,b)},
f=e.storage,h=f.resources.defaults;b.ajax=b.ajax!==s?!!b.ajax:h.ajax;b.loaded=b.loaded!==s?a(b.loaded):a(h.loaded);f.read(b,function(a){if(a&&a.data){var h=b,g=e.storage.resources.defaults,t=parseInt(a.lifetime,10),q=a.version,n=a.lastmod?a.lastmod:0,r=!1,u,x=h.lastmod?h.lastmod:0,r=!0;u=!1;h.version=u=h.version!==s?parseFloat(h.version):g.version;h.group=h.group!==s?parseFloat(h.group):g.group;x&&n?(h.lastmod=parseInt(x,10),r=n===h.lastmod):!x&&n?x=n:x||(x=g.lastmod);r=r&&u===q;u=0!==t&&(-1!==t&&
r&&a.expires>k||-1===t&&r);h.lastmod=x;h.isValid=u;b=h;b.isValid||!m.isOnline()?(c=a.data)&&l(b,c):f.update(b,d)}else f.create(b,d)})},n=function(a,b){var c=0,d=a.length,e=null;t.init(d,b);for(c=0;c<d;c+=1)(e=a[c])&&e.url&&(e.url=f(e.url),e.type=g(e),h(e))},u=function(a,b,c){var d=a.length;for(c||(c=0);!a[c]&&c<d;)c+=1;c>=d?b(e):(d=a[c],n(d,function(){u(a,b,c+1)}))};(function(b,e){b&&q(b)||(b=[]);for(var h=b,f=[],g,k=0,l,p=h.length,k=0;k<p;k+=1)l=h[k],(g=l.group)||(g=0),g=f[g]?f[g]:f[g]=[],g.push(l);
b=f;e=a(c);u(b,e)})(b,c)},remove:function(b,c){var e=this.storage,k=function(a,b){var c=a.length,d,k,p=function(a,d){a===c-1&&b()};if(c)for(d=0;d<c;d+=1)(k=a[d])&&k.url&&(k.url=f(k.url),k.type=g(k),e.remove(k,p(d,k.url)));else b()};(function(b,e){b&&q(b)||(b=[]);e=a(c);k(b,e)})(b,c)},init:function(b,d){var e=this;b=a(b);c.cache.storage.controller(function(a){e.storage=a;b(a)},d);return e}};c.namespace("cache.controller",e)})(window.getNs());
(function(c,s,g){function e(a){this.storage=this.controller=null;this.params=a;this.queue=new m;this.timeout=this.interval=this.calls=0}function k(a){var b=null,c=n.length,d;a||(a={});for(d=0;d<c;d+=1)f(n[d].params)===f(a)&&(b=n[d]);b||(b=new e(a),n.push(b));return b}function r(a,e,f){var g=k(a),h,m,n=function(){h=g.interval;c.clearInterval(h);h=c.setInterval(function(){g.timeout=m=g.timeout+b;g.controller&&g.storage&&(c.clearInterval(h),g.queue.flush());m>d&&(c.clearInterval(h),f())},b)};g||f();
g.storage?e(g):(g.queue.add(function(){e(g)}),g.calls+=1,1===g.calls?g.controller=new s.cache.controller(function(a){g.storage=a;g.controller?g.queue.flush():n()},a):n())}var n=[];g=s.helpers;var m=g.queue;g=g.utils;var q=g.isArray,f=g.jsonToString,a=g.callback,b=25,d=5E3;g=function(){return{load:function(b,c,d){c=a(c);r(d,function(a){q(b)?a.controller.load(b,c):"applicationCache"===b?(a=a.storage)&&a.appCacheAdapter&&!a.appCacheAdapter.opened?a.appCacheAdapter.open(c,d):c():c()},function(){c()})},
remove:function(b,c,d){c=a(c);r(d,function(a){q(b)?a.controller.remove(b,c):c()},function(){c()})}}}();s.namespace("cache.load",g.load);s.namespace("cache.remove",g.remove)})(window,window.getNs());
